# 🔥 DDoS Lab - Лабораторный стенд для исследования DDoS атак

Этот проект представляет собой полный лабораторный стенд для изучения и тестирования DDoS атак в контролируемой среде.

## 📋 Содержание

- [Описание](#описание)
- [Архитектура](#архитектура)
- [Установка и настройка](#установка-и-настройка)
- [Использование Vagrant](#использование-vagrant)
- [Контейнерные атаки](#контейнерные-атаки)
- [Анализ результатов](#анализ-результатов)
- [Типы атак](#типы-атак)

## 🎯 Описание

Лабораторный стенд позволяет:
- Развернуть изолированную сеть с целевым сервером и атакующими машинами
- Проводить различные типы DDoS атак
- Мониторить состояние системы в реальном времени
- Анализировать воздействие атак на производительность
- Генерировать подробные отчеты

## 🏗️ Архитектура

```
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   Attacker 1    │    │   Attacker 2    │    │   Docker Host   │
│ 192.168.56.11   │    │ 192.168.56.12   │    │   (Optional)    │
└─────────────────┘    └─────────────────┘    └─────────────────┘
         │                       │                       │
         └───────────────────────┼───────────────────────┘
                                 │
                    ┌─────────────────────┐
                    │   Target Server     │
                    │   192.168.56.10     │
                    │   Port: 8080        │
                    └─────────────────────┘
```

## 🛠️ Установка и настройка

### Требования

- VirtualBox 6.0+
- Vagrant 2.2+
- Docker (для контейнерных атак)
- Python 3.6+ (для анализа)

### Быстрый старт

1. **Клонирование и переход в директорию:**
```bash
cd ddos-lab
```

2. **Запуск Vagrant окружения:**
```bash
vagrant up
```

3. **Проверка развертывания:**
```bash
vagrant status
```

## 🖥️ Использование Vagrant

### Управление виртуальными машинами

```bash
# Запуск всех машин
vagrant up

# Запуск конкретной машины
vagrant up target
vagrant up attacker1

# Подключение к машине
vagrant ssh target
vagrant ssh attacker1

# Остановка всех машин
vagrant halt

# Уничтожение окружения
vagrant destroy
```

### Проверка целевого сервера

```bash
# Подключение к целевому серверу
vagrant ssh target

# Проверка работы сервера
curl http://localhost:8080/
systemctl status simple-server

# Просмотр метрик
ls ~/metrics/
tail -f ~/metrics/network.log
```

## 🐳 Контейнерные атаки

### Подготовка Docker образов

```bash
# Сборка образов
./manage_attacks.sh build
```

### Запуск атак

```bash
# HTTP Flood атака (10 контейнеров)
./manage_attacks.sh http 10

# Slowloris атака (5 контейнеров)
./manage_attacks.sh slowloris 5

# SYN Flood атака (5 контейнеров)
./manage_attacks.sh syn 5

# UDP Flood атака (5 контейнеров)
./manage_attacks.sh udp 5

# Массовая комбинированная атака (50 контейнеров)
./manage_attacks.sh massive 50
```

### Мониторинг атак

```bash
# Просмотр статуса атак
./manage_attacks.sh status

# Мониторинг целевого сервера
./manage_attacks.sh monitor

# Остановка всех атак
./manage_attacks.sh stop
```

## 📊 Анализ результатов

### Сбор метрик с целевого сервера

```bash
# Подключение к целевому серверу
vagrant ssh target

# Копирование метрик на хост-машину
cd ~/metrics
tar -czf metrics_$(date +%Y%m%d_%H%M%S).tar.gz *.log
```

### Генерация отчета

```bash
# Установка зависимостей для анализа
pip3 install matplotlib seaborn pandas

# Генерация отчета
python3 generate_report.py ~/metrics

# Результат:
# - ddos_analysis_report.png (графики)
# - ddos_analysis_report.txt (текстовый отчет)
# - metrics_data.json (сырые данные)
```

## ⚔️ Типы атак

### 1. HTTP Flood
- **Описание:** Множественные HTTP запросы к серверу
- **Цель:** Исчерпание ресурсов веб-сервера
- **Параметры:** 100 параллельных потоков на контейнер

### 2. Slowloris
- **Описание:** Медленные HTTP соединения
- **Цель:** Исчерпание пула соединений
- **Параметры:** 200 одновременных соединений на контейнер

### 3. SYN Flood
- **Описание:** Flood SYN пакетов без завершения handshake
- **Цель:** Исчерпание таблицы соединений
- **Параметры:** Случайные source IP адреса

### 4. UDP Flood
- **Описание:** Массовая отправка UDP пакетов
- **Цель:** Перегрузка сетевого интерфейса
- **Параметры:** Flood режим с случайными source IP

## 📈 Примеры метрик

### Сетевые соединения
```
[2024-01-15 14:30:15] === NETWORK CONNECTIONS ===
Active connections on port 8080: 245
```

### Системная нагрузка
```
[2024-01-15 14:30:15] === SYSTEM LOAD ===
14:30:15 up 2:15, 1 user, load average: 4.21, 3.85, 2.10
```

### CPU и память
```
[2024-01-15 14:30:15] === CPU & MEMORY ===
%Cpu(s): 85.2 us, 12.1 sy, 0.0 ni, 2.7 id
KiB Mem : 2048000 total, 156432 free, 1654123 used
```


## 🛡️ Защитные меры

### Рекомендации по защите от DDoS:

1. **Rate Limiting**
   - Ограничение запросов с одного IP
   - Временные блокировки

2. **Reverse Proxy**
   - Nginx, HAProxy
   - Cloudflare, AWS CloudFront

3. **Firewall Rules**
   - iptables правила
   - Блокировка подозрительного трафика

4. **Мониторинг**
   - Системы оповещения
   - Анализ трафика в реальном времени

## 📝 Структура проекта

```
ddos-lab/
├── Vagrantfile                    # Конфигурация виртуальных машин
├── scripts/
│   └── metrics.sh                 # Скрипт сбора метрик
├── docker/
│   ├── Dockerfile.attacker        # Docker образ для атак
│   └── attack_scripts/            # Скрипты различных атак
│       ├── start_attack.sh
│       ├── http_flood.py
│       ├── slowloris.py
│       ├── syn_flood.sh
│       └── udp_flood.sh
├── manage_attacks.sh              # Управление атаками
├── generate_report.py             # Генерация отчетов
└── README.md                      # Документация
```

## 🤝 Участие в проекте

Приветствуются улучшения и дополнения:
- Новые типы атак
- Улучшения в мониторинге
- Дополнительные методы анализа
- Документация

## 📜 Лицензия

Этот проект предназначен исключительно для образовательных и исследовательских целей. Использование для незаконных действий запрещено. 