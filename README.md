# ๐ Password Management System

ะะตะทะพะฟะฐัะฝะฐั ัะธััะตะผะฐ ัะฟัะฐะฒะปะตะฝะธั ะฟะฐัะพะปัะผะธ ั ะปะพะบะฐะปัะฝัะผ ะธ ัะดะฐะปะตะฝะฝัะผ ัะตัะฒะตัะฐะผะธ.

## ๐๏ธ ะััะธัะตะบัััะฐ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโ    HTTP/HTTPS    โโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ManagmentLocalServer   โโโโโโโโโโโโโโโโโโโบโ   ManagmentServer        โ
โ  (SQLite + Spring Boot) โ                  โ  (PostgreSQL + Spring)   โ
โ  Port: 3001             โ                  โ  Port: 8080              โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโ                  โโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## ๐ ะัััััะน ะทะฐะฟััะบ

### ๐ ะัะตะดะฒะฐัะธัะตะปัะฝัะต ััะตะฑะพะฒะฐะฝะธั

- Docker Desktop
- Java 17+
- curl (ะดะปั ะฟัะพะฒะตัะบะธ ััะฐัััะฐ)

### โถ๏ธ ะะฐะฟััะบ ัะตัะฒะตัะพะฒ

1. **ะะฐะฟัััะธัั ะพะฑะฐ ัะตัะฒะตัะฐ:**
   ```cmd
   run-servers.bat
   ```

2. **ะััะฐะฝะพะฒะธัั ัะตัะฒะตัั:**
   ```cmd
   stop-servers.bat
   ```

## ๐ ะะดัะตัะฐ ัะตัะฒะตัะพะฒ

### ๐ ะะพะบะฐะปัะฝัะน ัะตัะฒะตั (ManagmentLocalServer)
- **ะัะฝะพะฒะฝะพะน URL:** http://localhost:3001
- **Swagger UI:** http://localhost:3001/swagger-ui.html
- **Health Check:** http://localhost:3001/actuator/health
- **ะะฐะทะฐ ะดะฐะฝะฝัั:** SQLite (./data/local_database.db)

### ๐ ะฃะดะฐะปะตะฝะฝัะน ัะตัะฒะตั (ManagmentServer)
- **ะัะฝะพะฒะฝะพะน URL:** http://localhost:8080  
- **Swagger UI:** http://localhost:8080/swagger-ui.html
- **Health Check:** http://localhost:8080/actuator/health
- **ะะฐะทะฐ ะดะฐะฝะฝัั:** PostgreSQL (localhost:5432)

## ๐ง ะัะฟะพะปัะทะพะฒะฐะฝะธะต

### 1๏ธโฃ ะะฐัััะพะนะบะฐ ะปะพะบะฐะปัะฝะพะณะพ ะฐะบะบะฐัะฝัะฐ
```http
POST http://localhost:3001/auth/setup
Content-Type: application/json

{
  "username": "your_username",
  "salt": "random_salt_string",
  "passwordHash": "argon2_hashed_password"
}
```

### 2๏ธโฃ ะัะพะด ะฒ ะปะพะบะฐะปัะฝัะน ะฐะบะบะฐัะฝั
```http
POST http://localhost:3001/auth/login
Content-Type: application/json

{
  "username": "your_username", 
  "passwordHash": "argon2_hashed_password"
}
```

### 3๏ธโฃ ะกะฒัะทะบะฐ ั ัะดะฐะปะตะฝะฝัะผ ัะตัะฒะตัะพะผ
```http
POST http://localhost:3001/remote/register
Authorization: Bearer <local_jwt_token>
```

### 4๏ธโฃ ะกะธะฝััะพะฝะธะทะฐัะธั ะดะฐะฝะฝัั
```http
# ะัะณััะทะธัั ะดะฐะฝะฝัะต ะฝะฐ ัะดะฐะปะตะฝะฝัะน ัะตัะฒะตั
POST http://localhost:3001/sync/push
Authorization: Bearer <local_jwt_token>

# ะะฐะณััะทะธัั ะดะฐะฝะฝัะต ั ัะดะฐะปะตะฝะฝะพะณะพ ัะตัะฒะตัะฐ  
GET http://localhost:3001/sync/pull
Authorization: Bearer <local_jwt_token>
```

## ๐ API Endpoints

### ๐ ะััะตะฝัะธัะธะบะฐัะธั (ะะพะบะฐะปัะฝัะน)
- `POST /auth/setup` - ะะตัะฒะธัะฝะฐั ะฝะฐัััะพะนะบะฐ
- `POST /auth/login` - ะัะพะด ะฒ ัะธััะตะผั
- `GET /auth/status` - ะกัะฐััั ะฐััะตะฝัะธัะธะบะฐัะธะธ

### ๐ ะฃะดะฐะปะตะฝะฝะฐั ะฐััะตะฝัะธัะธะบะฐัะธั
- `POST /remote/register` - ะะตะณะธัััะฐัะธั ะฝะฐ ัะดะฐะปะตะฝะฝะพะผ ัะตัะฒะตัะต
- `POST /remote/login` - ะัะพะด ะฝะฐ ัะดะฐะปะตะฝะฝะพะผ ัะตัะฒะตัะต
- `GET /remote/status` - ะกัะฐััั ัะดะฐะปะตะฝะฝะพะณะพ ะฐะบะบะฐัะฝัะฐ
- `POST /remote/disconnect` - ะัะบะปััะธัั ัะดะฐะปะตะฝะฝัะน ะฐะบะบะฐัะฝั

### ๐ ะกะธะฝััะพะฝะธะทะฐัะธั
- `POST /sync/push` - ะัะณััะทะธัั ะดะฐะฝะฝัะต
- `GET /sync/pull` - ะะฐะณััะทะธัั ะดะฐะฝะฝัะต  
- `GET /sync/status` - ะกัะฐััั ัะธะฝััะพะฝะธะทะฐัะธะธ

### ๐ ะะฐะผะตัะบะธ (ะะพะบะฐะปัะฝัะต)
- `GET /notes` - ะะพะปััะธัั ะฒัะต ะทะฐะผะตัะบะธ
- `POST /notes` - ะกะพะทะดะฐัั ะทะฐะผะตัะบั
- `PUT /notes/{id}` - ะะฑะฝะพะฒะธัั ะทะฐะผะตัะบั
- `DELETE /notes/{id}` - ะฃะดะฐะปะธัั ะทะฐะผะตัะบั

### ๐ ะะฐัะพะปะธ (ะะพะบะฐะปัะฝัะต)
- `GET /passwords` - ะะพะปััะธัั ะฒัะต ะฟะฐัะพะปะธ
- `POST /passwords` - ะกะพะทะดะฐัั ะฟะฐัะพะปั
- `PUT /passwords/{id}` - ะะฑะฝะพะฒะธัั ะฟะฐัะพะปั
- `DELETE /passwords/{id}` - ะฃะดะฐะปะธัั ะฟะฐัะพะปั

## ๐ก๏ธ ะะตะทะพะฟะฐัะฝะพััั

- **End-to-End ัะธััะพะฒะฐะฝะธะต** - ะฒัะต ะดะฐะฝะฝัะต ัะธััััััั ะฝะฐ ะบะปะธะตะฝัะต
- **Zero-knowledge ะฐััะธัะตะบัััะฐ** - ัะตัะฒะตั ะฝะต ะทะฝะฐะตั ะผะฐััะตั-ะฟะฐัะพะปั
- **Argon2 ัะตัะธัะพะฒะฐะฝะธะต** - ะฑะตะทะพะฟะฐัะฝะพะต ััะฐะฝะตะฝะธะต ะฟะฐัะพะปะตะน
- **JWT ะฐััะตะฝัะธัะธะบะฐัะธั** - ัะพะบะตะฝ-based ะฐะฒัะพัะธะทะฐัะธั
- **ะะฐะทะดะตะปะตะฝะธะต ะดะฐะฝะฝัั** - ะบะฐะถะดัะน ะฟะพะปัะทะพะฒะฐัะตะปั ะฒะธะดะธั ัะพะปัะบะพ ัะฒะพะธ ะดะฐะฝะฝัะต

## ๐ ะะฐะทัะตัะตะฝะธะต ะบะพะฝัะปะธะบัะพะฒ

ะัะธ ัะธะฝััะพะฝะธะทะฐัะธะธ ะฟะพะดะดะตัะถะธะฒะฐัััั ัััะฐัะตะณะธะธ:
- `LATEST_TIMESTAMP` - ะฑะตัะตััั ะฑะพะปะตะต ะฝะพะฒะฐั ะฒะตััะธั (ะฟะพ ัะผะพะปัะฐะฝะธั)
- `LOCAL_WINS` - ะฟัะธะพัะธัะตั ะปะพะบะฐะปัะฝะพะน ะฒะตััะธะธ
- `REMOTE_WINS` - ะฟัะธะพัะธัะตั ัะดะฐะปะตะฝะฝะพะน ะฒะตััะธะธ
- `SKIP_CONFLICTS` - ะฟัะพะฟัััะธัั ะบะพะฝัะปะธะบัะฝัะต ะทะฐะฟะธัะธ

## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
mephi-project/
โโโ ManagmentServer/          # ะฃะดะฐะปะตะฝะฝัะน ัะตัะฒะตั (PostgreSQL)
โโโ ManagmentLocalServer/     # ะะพะบะฐะปัะฝัะน ัะตัะฒะตั (SQLite)
โโโ run-servers.bat          # ะะฐะฟััะบ ัะตัะฒะตัะพะฒ
โโโ stop-servers.bat         # ะััะฐะฝะพะฒะบะฐ ัะตัะฒะตัะพะฒ
โโโ README.md               # ะญัะพั ัะฐะนะป
```

## ๐ ะัะปะฐะดะบะฐ

### ะะพะณะธ ะบะพะฝัะตะนะฝะตัะพะฒ:
```cmd
# ะะพะบะฐะปัะฝัะน ัะตัะฒะตั
docker logs management_local_server -f

# ะฃะดะฐะปะตะฝะฝัะน ัะตัะฒะตั  
docker logs vault_spring -f

# PostgreSQL
docker logs vault_postgres -f
```

### ะัะพะฒะตัะบะฐ ััะฐัััะฐ:
```cmd
# ะัะพะฒะตัะธัั, ััะพ ัะตัะฒะตัั ะพัะฒะตัะฐัั
curl http://localhost:3001/actuator/health
curl http://localhost:8080/actuator/health
```

ะัะธ ะฒะพะทะฝะธะบะฝะพะฒะตะฝะธะธ ะฟัะพะฑะปะตะผ:
1. ะัะพะฒะตัััะต ะปะพะณะธ ะบะพะฝัะตะนะฝะตัะพะฒ
2. ะฃะฑะตะดะธัะตัั, ััะพ ะฟะพััั 3001 ะธ 8080 ัะฒะพะฑะพะดะฝั
3. ะะตัะตะทะฐะฟัััะธัะต ัะตัะฒะตัั ัะตัะตะท `stop-servers.bat` ะธ `run-servers.bat` 
